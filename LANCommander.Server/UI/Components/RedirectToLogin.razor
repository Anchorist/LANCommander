@using LANCommander.Server.Data
@inject NavigationManager NavigationManager

@code {
    protected override void OnInitialized()
    {
        if (DatabaseContext.Provider == Data.Enums.DatabaseProvider.Unknown)
        {
            NavigationManager.NavigateTo("/FirstTimeSetup");
        }
        else
        {
            var currentUri = new Uri(NavigationManager.Uri);

            NavigationManager.NavigateTo($"/Identity/Account/Login?ReturnUrl={currentUri.AbsolutePath}", true);
        }
    }
}
